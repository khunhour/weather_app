(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){let t=60*(new Date).getTimezoneOffset();return("0"+new Date(1e3*(e+t)).getHours()).slice(-2)}async function n(e){if(e||(e=document.querySelector(".cityName").textContent),e){let n=await async function(e){try{let t=function(e,t){return`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=02cafa796b213d5a197f3a3378f70a47&units=${t}`}(e,o()),n=await async function(e){try{let t={},n=await fetch(e,{mode:"cors"}),o=await n.json();return t.city=o.name,t.temp=Math.round(o.main.temp),t.lowTemp=Math.round(o.main.temp_min),t.highTemp=Math.round(o.main.temp_max),t.feels_like=o.main.feels_like,t.humidity=o.main.humidity,t.windSpeed=o.wind.speed,t.weather=o.weather[0].main,t.description=o.weather[0].description,t.coord=o.coord,t.date=o.dt,t.timezone=o.timezone,t}catch(e){console.log(e)}}(t);return n}catch(e){throw e}}(e),a=function(e){let t=o(),n=e.coord.lon;return`https://api.openweathermap.org/data/2.5/onecall?lat=${e.coord.lat}&lon=${n}&exclude=minutely,alerts&appid=02cafa796b213d5a197f3a3378f70a47&units=${t}`}(n),i=await async function(e){try{let t=await fetch(e,{mode:"cors"}),n=await t.json(),o=n.timezone_offset,a=n.hourly.slice(0,24);return{dailyForecast:{timeZoneOffset:o,dailyData:n.daily},hourlyForecast:{timeZoneOffset:o,hourlyData:a}}}catch(e){console.log(e)}}(a);document.getElementById("input").value="",function(e){const n=document.querySelector(".cityName"),a=document.querySelector(".temp"),i=document.querySelector(".description"),c=document.querySelector(".highTemp"),r=document.querySelector(".lowTemp"),d=document.querySelector(".humidity"),u=document.querySelector(".wind");let l,m;"metric"===o()?(l="°C",m="m/s"):(l="°F",m="mph"),function(e){let n=Number(t(e.date+e.timezone));n>5&&n<11?(document.body.className="",document.body.classList.add("clear")):n>11&&n<16?(document.body.className="",document.body.classList.add("sunny")):(document.body.className="",document.body.classList.add("night")),(e.description.includes("rain")||e.description.includes("broken clouds")||e.description.includes("overcast clouds")||e.description.includes("snow"))&&(document.body.className="grey")}(e),n.textContent=e.city,a.textContent=`${e.temp}${l}`,i.textContent=e.description,c.textContent=`High: ${e.highTemp}${l}`,r.textContent=`Low: ${e.lowTemp}${l}`,d.textContent=`Humidity: ${e.humidity}%`,u.textContent=`Wind Speed: ${e.windSpeed}${m}`}(n),function(e){let n=e.hourlyData,o=e.timeZoneOffset;for(let e=0;e<24;e++){const a=document.querySelector(`[data-hourly='${e}']`).children;let i,c=a[0],r=a[1],d=a[2];i=0===e?"Now":t(n[e].dt+o);let u=n[e].weather[0].icon,l=Math.round(n[e].temp);c.textContent=i,r.src=`./images/${u}.png`,d.textContent=`${l}°`}}(i.hourlyForecast),function(e){let t=e.dailyData,n=e.timeZoneOffset;for(let e=0;e<7;e++){const a=document.querySelector(`[data-daily='${e}']`).children;let i,c=a[0],r=a[1],d=a[2],u=a[3];i=0===e?"Today":(o=t[e].dt+n,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*o).getDay()]);let l=t[e].weather[0].icon,m=Math.round(t[e].temp.max),s=Math.round(t[e].temp.min);c.textContent=i,r.src=`./images/${l}.png`,d.textContent=`L: ${s}°`,u.textContent=`H: ${m}°`}var o}(i.dailyForecast)}}function o(){return"Celcius"===document.querySelector('input[name="unit"]:checked').value?"metric":"imperial"}e.d({},{K:()=>o}),document.querySelector("#form").addEventListener("submit",(e=>{n(document.getElementById("input").value),e.preventDefault()})),document.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",(()=>{n(null)}))})),n("Tokyo")})();